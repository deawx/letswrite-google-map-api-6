"use strict";var GoogleMap=new Vue({el:"#app",data:{loadingMask:!0,api:"https://script.google.com/macros/s/AKfycbycicX5-NDjA6FEbwfauuUSi4NSN4RXbEGSkqPMc3G9JDNA40s/exec",map:null,responeData:[],heatmapData:[]},methods:{initMap:function(){var e=this;fetch(this.api).then((function(e){return e.json()})).then((function(t){e.responeData=t,e.map=new google.maps.Map(document.getElementById("map"),{center:{lat:30.97564,lng:112.2707},zoom:5,mapTypeId:"roadmap",zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,styles:[{elementType:"geometry",stylers:[{color:"#263238"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#FFD54F"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#746855"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"geometry.stroke",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#BCAAA4"}]},{featureType:"administrative.neighborhood",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#37474F"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#263238"}]}]});var a=Object.keys(t);Array.prototype.forEach.call(a,(function(a){var o=t[a],r=new google.maps.LatLng(o.lat,o.lng),l=new google.maps.Marker({position:r,map:e.map}),s=new google.maps.InfoWindow({content:"\n                <h6>".concat(a,"</h6>\n                <p>確診：").concat(o.confirmed,"</p>\n                <p>康復：").concat(o.recovered,"</p>\n                <p>死亡：").concat(o.death,"</p>\n              ")});l.addListener("click",(function(t){s.open(e.map,l)}));var n={location:r,weight:o.confirmed};"Hubei"===a&&(n.weight=o.confirmed-1e4),e.heatmapData.push(n)})),new google.maps.visualization.HeatmapLayer({data:e.heatmapData,dissipating:!0,radius:40}).setMap(e.map),e.loadingMask=!1}))}},created:function(){var e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBG9pWjn7gWHoqsNqTrU2EpWfZkyTlh6_I&libraries=visualization",document.head.appendChild(e),e.onload=this.initMap}});